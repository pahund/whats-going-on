<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>What's Going On?</title>
    <style>
        body {
            font-family: sans-serif;
        }
        #success {
            color: green;
        }
        #failure {
            color: red;
        }
        code {
            font-size: 130%;
        }
    </style>
</head>
<body>
    <h1>What's Going On?</h1>
    <h2 id="success" style="display: none">Success!</h2>
    <h2 id="failure" style="display: none">Failure â€“ no URL parameter <code>oauth_verifier</code>!</h2>
    <p id="instructions" style="display: none">Copy this token into the command line:</p>
    <code id="token" style="display: none"></code>
    <script>
        try {
          const [, oauthVerifier ] = location.search.match(/\boauth_verifier=([^&]+)/);
          document.getElementById('success').style.display = 'block';
          document.getElementById('instructions').style.display = 'block';
          document.getElementById('token').style.display = 'block';
          document.getElementById('token').innerText = oauthVerifier;
        } catch (err) {
          document.getElementById('failure').style.display = 'block';
        }
    </script>
</body>
</html>
